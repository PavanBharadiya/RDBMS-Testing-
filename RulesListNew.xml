<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ruleList>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>&gt;=</operation>
                    <value>20001</value>
                </clause>
                <conjuction>none</conjuction>
                <element>acc_balance</element>
            </conditon>
            <table>Account</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>update account set status='premium' where acc_no=:1</action>
        </consequent>
    </rule>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>&lt;=</operation>
                    <value>10000</value>
                </clause>
                <conjuction>none</conjuction>
                <element>acc_balance</element>
            </conditon>
            <table>Account</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>insert into penalty_account values(:1,:2,:3,:4,:5,:6,:7,:8,:9);</action>
        </consequent>
    </rule>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>&lt;=</operation>
                    <value>CURRENT_DATE-7</value>
                </clause>
                <conjuction>none</conjuction>
                <element>date(LastTransactionTime)</element>
            </conditon>
            <table>account</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>insert into dormant_account values(:1,:2,:3,:4,:5,:6,:7,:8,:9);</action>
        </consequent>
    </rule>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>=</operation>
                    <value>Student_Savings</value>
                </clause>
                <clause>
                    <operation>=</operation>
                    <value>Govt_Savings</value>
                </clause>
                <conjuction>or</conjuction>
                <element>Acc_type</element>
            </conditon>
            <table>Account</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>insert into special_account values(:1,:2,:3,:4,:5,:6,:7,:8,:9);</action>
        </consequent>
    </rule>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>&lt;=</operation>
                    <value>CURRENT_DATE-90</value>
                </clause>
                <conjuction>none</conjuction>
                <element>date(PasswdLastUpdatedDate)</element>
            </conditon>
            <table>customer</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>update customer set Cust_passwd ='DEFAULT' where Cust_ID=:1</action>
        </consequent>
    </rule>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>&gt;=</operation>
                    <value>10</value>
                </clause>
                <conjuction>none</conjuction>
                <element>Transaction_count</element>
            </conditon>
            <table>account</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>update account set credit_score = CAST (credit_score AS INTEGER) + CAST (Transaction_count AS INTEGER)/10, Transaction_count =  CAST (Transaction_count AS INTEGER) - 10*(CAST (Transaction_count AS INTEGER)/10) where Acc_No=:1;</action>
        </consequent>
    </rule>
    <rule>
        <antecedent>
            <conditon>
                <clause>
                    <operation>&lt;=</operation>
                    <value>CURRENT_DATE-90</value>
                </clause>
                <conjuction>none</conjuction>
                <element>date(LastQrtrFeeDeductDate)</element>
            </conditon>
            <table>account</table>
            <type>BT</type>
        </antecedent>
        <consequent>
            <action>update account set LastQrtrFeeDeductDate = CURRENT_DATE, acc_balance = CAST (acc_balance AS INTEGER) - CAST (acc_balance AS INTEGER)/200 where Acc_no=:1;</action>
        </consequent>
    </rule>
</ruleList>
